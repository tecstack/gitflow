<div ng-controller="Cmodule">
  <!-- left dashboard-->
  <div class="dashboardLeft">
    <!-- hosts scan -->
    <div class="leftNodeScript">
      <!-- title -->
      <div class="nodeTitle">指定目标</div>

      <!-- content -->
      <div class="nodeContent">
        <!-- left -->
        <div class="nodeContentLeft">
          <table>
            <tr class="trAnimate" ng-repeat="node in MhostsSelected">
              <td>{{node.interfaces[0].ip}}</td>
            </tr>
          </table>
        </div>
        <!-- right -->
        <div class="nodeContentRight" ng-click="FshowDetailDiv('hosts')">
          <div class="bigNumber">{{MhostsSelected.length}}</div>
          <div class="smallText">已选机器</div>
        </div>
      </div>

      <!-- judgement -->
      <div class="nodeBottom errorContent" ng-show="!MshowJudge.hosts">
        还没有选取目标机器
      </div>
      <div class="nodeBottom successContent" ng-show="MshowJudge.hosts">
        <i class="iconfont">&#xe67c;</i>
      </div>
    </div>

    <!-- script scan -->
    <div class="leftNodeScript">
      <!-- title -->
      <div class="nodeTitle">指定命令</div>

      <!-- content -->
      <div class="nodeContent">
        <!-- left -->
        <div class="nodeContentLeft">
          <table>
            <tr class="trAnimate" ng-model="MshellSelected">
              <td>{{MshellSelected.shell}}</td>
            </tr>
          </table>
        </div>
        <!-- right -->
        <div class="nodeContentRight" ng-click="FshowDetailDiv('shell')">
          <div class="bigNumber">shell</div>
          <div class="smallText">已选指令</div>
        </div>
      </div>

      <!-- judgement -->
      <div class="nodeBottom errorContent" ng-show="!MshowJudge.shell">
        还没有定义指令
      </div>
      <div class="nodeBottom successContent" ng-show="MshowJudge.shell">
        <i class="iconfont">&#xe67c;</i>
      </div>
    </div>
  </div>

  <!-- right dashboard detail -->
  <div class="dashboardRight" ng-show="MshowRight.detail">
    <!-- create walker! -->
    <div class="row" ng-show="MshowGo" ng-click="Fexecute()">
      <div class="flatBigNode go">
        <div class="nodeContent">
          <div>执行！</div>
        </div>
      </div>
    </div>

    <!-- hosts detail -->
    <div class="row" ng-show="MshowDetail.hosts">
      <div class="bigNode">
        <!-- title -->
        <div class="nodeTitle">机器列表</div>
        <!-- content -->
        <div class="nodeContent">
          <!-- toolbar -->
          <div class="tableContent">
            <div class="toolbar">
              <div class="toolbarNode label">
                筛选
                <div class="filterBox">
                  <div class="toolbar" ng-repeat="filter in Mfilters">
                    <i class="toolbarNode iconfont" ng-click="FremoveFilter(filter)">&#xe67f;</i>
                    <select class="toolbarNode filterName" name="filters" ng-model="filter.filterName">
                      <option ng-repeat="option in MhostsDataTh" value="{{option.filterName}}">{{option.th}}</option>
                    </select>
                    <select class="toolbarNode filterBool" name="bool" ng-model="filter.filterBool">
                      <option value="=">=</option>
                      <option value="!=">!=</option>
                    </select>
                    <input class="toolbarNode filterContent" type="text" ng-model="filter.filterContent">
                  </div>
                  <div class="toolbar">
                    <i class="toolbarNode iconfont" ng-click="FaddFilter()">&#xe649;</i>
                    <div class="toolbarNode">匹配数：{{MhostsDataFilter.length}}</div>
                  </div>
                </div>
              </div>
              <div class="label toolbarNode">已选：{{MhostsSelected.length}}</div>
            </div>
          </div>
          <!-- hosts table -->
          <div class="tableContent">
            <table>
              <tr>
                <th><input type="checkbox" ng-model="McheckAll.status" ng-change="FcheckAll(McheckAll)"></th>
                <th ng-repeat="data in MhostsDataTh">{{data.th}}</th>
              </tr>
              <tr class="trAnimate" ng-repeat="node in MhostsDataFilter">
                <td><input class="checkNode" type="checkbox" ng-model="node.select" ng-change="FchangeSelect(node)"></td>
                <td>{{node.hostid}}</td>
                <td>{{node.interfaces[0].ip}}</td>
                <td>{{node.host}}</td>
                <td>{{node.groups | groupsFilter}}</td>
              </tr>
            </table>
          </div>

        </div>
      </div>
    </div>

    <!-- shell detail -->
    <div class="row" ng-show="MshowDetail.shell">
      <div class="bigNode">
        <!-- title -->
        <div class="nodeTitle">指令编辑器</div>
        <!-- content -->
        <div class="nodeContent">
          <!-- toolbar -->
          <div class="tableContent">
            <div class="toolbar">
              <select class="toolbarNode" ng-model="Mosuser">
                <option value="root" selected="true">root</option>
              </select>
              <div class="toolbarNode label" ng-click="FsaveShell()">保存</div>
            </div>
          </div>
          <!-- code editor -->
          <div class="tableContent">
            <div ui-codemirror="MeditorOptions" ng-model="Mshell"></div>
          </div>
        </div>
      </div>
    </div>

  </div>



  <!-- right dashboard executor -->
  <div class="dashboardRight" ng-show="MshowRight.executor">
    <div class="row">
      <div class="bigNode">
        <div class="nodeTitle">执行结果</div>
        <div class="nodeContent">
          <div class="toolbar">
            <div class="toolbarNode label" ng-click="Fback()">返回</div>
          </div>
          <div class="nodeContentLeft">
            <div ui-codemirror="MeditorOptions" ng-model="Mstdout"></div>
          </div>
          <div class="nodeContentRight">
            <table>
              <tr ng-repeat="(key, value) in Mresult" ng-click="FshowStdout(value)">
                <td>{{key}}</td>
                <td>{{value|trailsFilter}}</td>
              </tr>
            </table>
          </div>
        </div>
        <div class="nodeBottom">{{MerrInfo}}</div>
      </div>
    </div>

  </div>

</div>
